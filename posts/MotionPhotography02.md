---
layout: single
title: "飛拍檢測系統相機與運動速度"
excerpt: "飛拍"
date: 2025-08-21
author: 林浩唐
tags: [自動化, 晶圓檢測, 飛拍技術]
categories: [技術分享]
---

這篇文章將帶大家理解飛拍系統在設計上的幾個關鍵要點。內容分為四個部分：首先說明觸發元件，其次探討相機幀率與運動速度上限的關係，再來說明快門對運動速度的限制，最後則補充亮度與成本的考量。本文會進行較為詳細的說明。

## 1. 觸發元件

硬體觸發的方法非常多，例如透過 I/O 或 PLC 都能達成，這裡不再贅述。本篇文章聚焦在我使用的 Adlink 軸卡 PCIe-7856 搭配 運動控制模組 MNET-4XMO-C（務必是 -C 版本，才支援觸發功能）。

安裝步驟如下：將軸卡與控制模組依照說明書安裝至設備，並安裝驅動程式。之後可先透過凌華的公版軟體進行測試。設定 Table 後，可以指定觸發軸的觸發點位，並選擇觸發方向（正向、負向或雙向）。當軸運動經過該點位時，即會輸出觸發訊號，將訊號線接到相機或光源即可完成硬體觸發。

特別要注意一個 Bug：實測發現，Table 內最後一個點位在觸發後不會自動失效，而是會持續觸發。理論上觸發過的點位應該不再生效，因此這是一個異常現象。解法是：每次觸發完成後，需先關閉觸發模式，再重新開啟並設定下一輪點位。在實務上務必注意這個細節。
  
  
## 2. 幀率影響的速度上限

設計飛拍系統時，核心目標往往是提升產能。可能是因為產線瓶頸在於速度，也可能是物理極限導致單次製程時間過長（例如高倍率全晶圓檢測）。在不犧牲解析度的前提下，如何加快平台速度，就是設計的關鍵。

首先，需要定義拍照間隔。例如在完整晶圓拍攝時，每張影像必須相互銜接，並保留部分重疊區域。以我的實際案例來說，我設定相鄰兩張照片有 5% 的重疊，因此拍照間隔為：

拍照間隔 = 視野寬度 × 0.95

接下來觀察相機的最大幀率。幀率代表相機每秒能拍攝的張數上限，而此限制主要取決於影像大小與傳輸頻寬。由幀率可得出單張影像的最短拍攝時間：

單張時間 = 1 ÷ 幀率

換句話說，在這段最短拍攝時間內，平台最多可移動的距離就是「拍照間隔」。因此最大運動速度公式為：

最大速度 = 拍照間隔 × 幀率

  
## 3. 快門影響的速度上限

幾乎所有飛拍系統最大的挑戰，都來自相機快門。高速相機雖然存在，但規格常常需要在解析度與其他功能之間取捨，未必能同時滿足需求。在相機參數中，「曝光時間」就是快門長度，而相機規格標示的最小曝光時間，就是能設定的最短快門值。

快門如何影響速度？當相機拍照時，快門會打開一段時間，感測器在這段時間內累積光子，並轉換成像素值。如果此時拍攝對象在運動，則同一個像素將會記錄到物體在不同位置的光訊號，造成影像模糊，導致解析度下降。

因此，在設計飛拍系統時，需要計算：在一次曝光時間內，平台的移動距離是否會超過一個像素的實際尺寸。條件可以表示為：

最大速度 ≤ 單位像素實際距離 ÷ 曝光時間

也就是說，曝光時間越短，允許的運動速度就越高。

## 4. 速度上限和亮度

經過前兩節計算，我們可以分別得到幀率與快門對速度上限的限制，兩者中較低者就是整個飛拍系統的速度極限。通常是 快門時間構成瓶頸，因為幀率所允許的速度往往高得多。

另外，由於系統為了提升速度，通常會將曝光時間設到最短值，這意味著進光量減少，需要更強的光源才能維持影像亮度。這也是為什麼許多飛拍系統在光源設備上的投資非常可觀。設計時，務必要把光源功率、散熱與成本納入整體考量。
  
## 結論

飛拍系統的設計，核心就是在 觸發、幀率、快門與光源 之間找到平衡。

觸發：決定相機是否能在正確位置拍照。

幀率：決定系統的最大資料產能。

快門：決定能否避免影像模糊。

光源：決定在高速短曝下是否能獲得足夠亮度。

理解並計算這些限制，才能建立一個既可靠又高效的飛拍系統。

---

## 歡迎 Email 技術交流
matt121031231@gmail.com
